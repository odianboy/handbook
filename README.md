# Сервис терминологии.

### 1. Запуск на локальном компьютере.

1.1 python -m venv myvenv

1.2 myvenv\Scripts\activate

1.3 pip install -r requirements.txt

1.4 python manage.py migrate

1.5 python manage.py createsuperuser

1.6 python manage.py runserver

### 2. К проекту подклечен swagger.

2.1 http://127.0.0.1:8000/api/v1/docs/

### 3. GUI административной части.

3.1 http://127.0.0.1:8000/admin/

### 4. Работа с REST API.

#### 4.1 Получение списка справочников.

GET запрос: http://127.0.0.1:8000/api/v1/directories/

##### Тело ответа:

"count" - кол-во справочников,

"next" - следующая страница списка справочников (данные возвращаются частями по 10 элементов),

"previous" - предыдущая страница списка справочников (данные возвращаются частями по 10 элементов),

"results" - результат запроса, включает в себя:

"id" - идентификатор справочника,

"name" - наименование справочника,

"description" - описание справочника,

"short_name" - короткое наименование справочника,

"current_version" - актуальная версия справочника, включает в себя:

"id" - идентификатор версии,

"directory" - идентификатор справочника,

"version" - версия,

"created_date" - дата начала действия справочника,

"directory_item" - элемент справочника, включает в себя:

"version" - версия,

"code" - код элемента,

"element_value" - значение элемента

Затем "version" который включает в себя все версии для родительского справочника.

#### 4.2 Получение списка справочников, актуальных на указанную дату.

##### Пример:

GET запрос: http://127.0.0.1:8000/api/v1/directories/?created_date=2021-07-18

В параметре created_date указываем дату в формате YYYY-MM-DD.

Запрос выведет справочики на указанную дату, в поле "current_version" отображается актуальная версия справочика.

#### 4.3 Получение элементов заданного справочника текущей версии.

##### Пример:

GET запрос: http://127.0.0.1:8000/api/v1/item/?directory=1

В параметре directory указывается идентификатор нужного нам справочника (тип int).

Запрос выведет элементы актуальной версии.

#### 4.4 Валидация элементов заданного справочника текущей версии.

##### Пример: 

GET запрос: http://127.0.0.1:8000/api/v1/item/?directory=5454

directory=5454 - если идентификатор справочника не существет получаем 400-ю ошибку с сообщением:

"Справочник со значением 5454 отсутствует. Список имеющихся справочников: [1, 2]"

#### 4.5 Получение элементов заданного справочника указанной версии.

##### Пример: 

GET запрос: http://127.0.0.1:8000/api/v1/item/?directory=1&directory_version=0.1

В параметре directory указывается идентификатор нужного нам справочника (тип int).

В параметре directory_version указывается версия (тип str).

#### 4.6 Валидация элемента заданного справочника по указанной версии.

##### Пример: 

GET запрос: http://127.0.0.1:8000/api/v1/item/?directory=1&directory_version=0.7

directory - идентификатор справочника

directory_version - версия справочника

В данном примере directory_version=0.7 такая версия справочника отсутствует, получаем 400-ю ошибку с сообщением:

"Версия со значением 0.7 отсутствует. Список имеющихся версий: ['0.1', '0.2']"
